# Сервис по нормализации адресов с помощью геокодирования
## Позволяет:
а) выяснить адреса предеприятий по косвенным данным

б) распарсить страну, регион, город, улицу, дом и индекс в разные столбцы
## Установка
Тестировано на python 3.10
```bash
pip3 install -r requirements.txt
```

В ```settings.py``` в переменную ```PRIORITY_ORDER``` поместить желаемые геокодеры.
Если поместить оба, то сначала будет геокодирование по первому, если какое-либо из полей адреса
останется пустым, то скорее всего адрес спарсен неправильно и пробуется другой геокодер.

Заполнить переменные в ```.env.sample```, переименновать в ```.env```

### Как создать необходимые API-ключи:


#### 1. Yandex:
Бесплатный, при правильном прохождении опросника, есть лимит на количество
запросов в день, подробнее в туториале

ссылка: https://developer.tech.yandex.ru/

мой видеотуториал:

#### 2. Google:
Необходимо нероссийская банковская карточка, 3 месяца бесплатно, можно 
перепривязовать карточку к новому аккаунту и всегда иметь бесплатный ключ

ссылка: https://code.google.com/apis/console 

не мой видеотуториал:

## Использование
Поместить в папку с проектом Excel файл(не забыв указать путь к нему в ```.env``` ), где в первом столбце
указаны ненормализованные адреса в каждой строчке, в таком формате:

|       | A                        |  B  |
| ------| -------------------------| --- |
| 1     | Хабаровск ул.Павловича, 13          |     |
| 2     | УЦ "Селмед" ул.Льва Толстого 23 к.7 стр.3 |     |
| 3     | А-Клиника ул.Садовническая д.11            |     |

В репозитории можете найти файл  ```examples.xslx``` с примерами.

Запустить скрипт:

```bash 
python3 main.py
```


